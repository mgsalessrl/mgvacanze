jQuery(window).scroll(function(){"use strict";var t=jQuery(window).scrollTop();t>=400?Modernizr.mq("only all and (max-width: 1180px)")||(jQuery(".property_menu_wrapper_hidden").fadeIn(400),jQuery(".property_menu_wrapper").fadeOut(400)):(jQuery(".property_menu_wrapper_hidden").fadeOut(400),jQuery(".property_menu_wrapper").fadeIn(400))});var show_daterange_picker_custom_mess,start_reservation,start_reservation_class,end_reservation,end_reservation_class,reservation_class,who_is=1,booking_started=0;price_array=[],control_vars_property.custom_price!==""&&(price_array=JSON.parse(control_vars_property.custom_price)),booking_array=[],control_vars_property.booking_array!==""&&control_vars_property.booking_array.length!==0&&(booking_array=JSON.parse(control_vars_property.booking_array)),cleaning_fee_per_day=control_vars_property.cleaning_fee_per_day,city_fee_per_day=control_vars_property.city_fee_per_day,price_per_guest_from_one=control_vars_property.price_per_guest_from_one,checkin_change_over=control_vars_property.checkin_change_over,checkin_checkout_change_over=control_vars_property.checkin_checkout_change_over,min_days_booking=control_vars_property.min_days_booking,extra_price_per_guest=control_vars_property.extra_price_per_guest,price_per_weekeend=control_vars_property.price_per_weekeend,mega_details=[],control_vars_property.mega_details!==""&&(mega_details=JSON.parse(control_vars_property.mega_details)),weekdays=[],control_vars.weekdays!==""&&(weekdays=JSON.parse(control_vars.weekdays)),jQuery(window).on("orientationchange",function(){Modernizr.mq("(min-width: 1023px)")||jQuery("#booking_form_request").removeClass("booking_on_mobile").show()});function wprentals_enable_fancybox_gallery(){jQuery('[data-fancybox="website_rental_gallery"]').fancybox({thumbs:{autoStart:!0},touch:!0,loop:!0,arrows:!0}),jQuery("#carousel-listing .item img").on("click",function(){jQuery("a[rel^='data-fancybox-thumb']:first").click()}),jQuery(".imagebody_new .image_gallery").on("click",function(){jQuery("a[rel^='data-fancybox-thumb']:first").click()})}function wprentals_show_mobile_booking(){jQuery("#mobile_booking_triger").on("click",function(){jQuery("#booking_form_request").addClass("booking_on_mobile").show()}),jQuery("#booking_form_mobile_close").on("click",function(){jQuery("#booking_form_request").hide()})}function wprentals_show_booking_calendars(e,t){property_vars.book_type==="2"?check_in_out_enable_calendar_per_hour_new(e,t):check_in_out_enable2(e,t)}show_daterange_picker_custom_mess="no";function check_in_out_enable2(e,t){show_daterange_picker_custom_mess="yes",s=new Date,n=control_vars.date_format.toUpperCase(),s=moment(s).format("MM/DD/YYYY"),minim_days=parseFloat(min_days_booking,10),o="left",jQuery("#primary").hasClass("col-md-pull-8")&&(o="right"),jQuery("#"+e).attr("readonly","readonly");var n,s,o,a,r,c,l,d,i={opens:o,singleDatePicker:!1,autoApply:!0,alwaysShowCalendars:!0,autoUpdateInput:!1,minDate:s,locale:{daysOfWeek:dayNamesShort,monthNames:longmonths},isCustomDate:wpestate_booking_show_booked};minim_days!==0&&(i.minSpan={days:minim_days}),n=control_vars.date_format.toUpperCase(),n=n.replace("YY","YYYY"),a=jQuery("#"+e),r=jQuery("#"+t),jQuery("#"+t).removeAttr("disabled"),c=jQuery("#"+e).daterangepicker(i,function(e,t){start_date=e.format(n),end_date=t.format(n),a.val(start_date),r.val(end_date),who_is=1,booking_started=1,jQuery(".wpestate_calendar").removeClass("minim_days_reservation").removeClass("wpestate_min_days_required");var o=jQuery("#listing_edit").val();wpestate_setCookie("booking_prop_id_cookie",o,1),wpestate_setCookie("booking_start_date_cookie",jQuery("#start_date").val(),1),wpestate_setCookie("booking_end_date_cookie",jQuery("#end_date").val(),1),show_booking_costs()}),jQuery("#"+e).on("click",function(){jQuery(".daterangepicker").css("margin-top","0px")}),jQuery("#"+t).on("click",function(){jQuery("#"+e).trigger("click"),jQuery(".daterangepicker").css("margin-top","65px")}),jQuery("html").on("mouseenter",".wpestate_booking_class",function(){var e=jQuery(this).attr("class"),e=e.match(/\d+/);jQuery(this).find(".wpestate_show_price_calendar").show(),who_is===1&&wpestate_show_min_days_reservation(e)}),jQuery("html").on("mouseleave",".wpestate_booking_class",function(){jQuery(this).find(".wpestate_show_price_calendar").hide(),wpestate_remove_min_days_reservation(this)})}function wpestate_booking_invalid_Date_new(e){var d="",r="start_date",i=new Date(e),a=Math.floor(Date.now()/1e3),c=i.getTime()/1e3,l=c-i.getTimezoneOffset()*60,t=String(l),n=i.getDay(),s=0,o=0;return n===0&&(n=7),mega_details[t]!==0[0]?parseFloat(mega_details[t].period_checkin_change_over,10)!==0&&(o=parseFloat(mega_details[t].period_checkin_change_over,10)):parseFloat(checkin_change_over)!==0&&(o=parseFloat(checkin_change_over,10)),mega_details[t]!==0[0]?parseFloat(mega_details[t].period_checkin_checkout_change_over,10)!==0&&(s=parseFloat(mega_details[t].period_checkin_checkout_change_over,10)):parseFloat(checkin_checkout_change_over)!==-1&&(s=parseFloat(checkin_checkout_change_over,10)),start_reservation=1,end_reservation===1&&(end_reservation=0),n!==s&&s!==0&&t>a-24*60*60?"is_block_check_in_check_out":n!==o&&o!==0&&r==="start_date"&&t>a-24*60*60?"is_block_check_in":""}function wpestate_booking_show_booked(e){var a,m="",h="start_date",n="",d="",r=new Date(e),c=Math.floor(Date.now()/1e3),u=r.getTime()/1e3,l=u-r.getTimezoneOffset()*60,t=String(l),s=r.getDay(),i=0,o=0;return s===0&&(s=7),mega_details[t]!==0[0]?parseFloat(mega_details[t].period_checkin_change_over,10)!==0&&(o=parseFloat(mega_details[t].period_checkin_change_over,10)):parseFloat(checkin_change_over)!==0&&(o=parseFloat(checkin_change_over,10)),mega_details[t]!==0[0]?parseFloat(mega_details[t].period_checkin_checkout_change_over,10)!==0&&(i=parseFloat(mega_details[t].period_checkin_checkout_change_over,10)):parseFloat(checkin_checkout_change_over)!==-1&&(i=parseFloat(checkin_checkout_change_over,10)),a=" disabled off",booking_array[l]!=0[0]?(end_reservation_class=1,start_reservation_class==1?(n=" start_reservation",start_reservation_class=0,"wpestate_calendar calendar-reserved"+n+" "+a):"wpestate_calendar calendar-reserved"+n+" "+a):(start_reservation_class=1,end_reservation_class===1&&(n=" end_reservation",end_reservation_class=0),s!==i&&i!==0&&t>c-24*60*60?(n!==" end_reservation"&&(n=n+" check_in_block 1"),"wpestate_calendar "+n+" date"+t):s!==o&&o!==0&&h==="start_date"&&t>c-24*60*60?"wpestate_calendar "+n+" date"+t:"freetobook wpestate_calendar"+n+" date"+t+" "+d)}function wpestate_show_price_Daterangepicker(e){"use strict";var n="",o=new Date(e),r=Math.floor(Date.now()/1e3),i=o.getTime()/1e3,a=i-o.getTimezoneOffset()*60,s=String(a),t=o.getDay();return t===0&&(t=7),control_vars.setup_weekend_status==="0"&&(t==6||t==7)?n=wpestate_return_weekeend_price(t,s):control_vars.setup_weekend_status==="1"&&(t==5||t==6)?n=wpestate_return_weekeend_price(t,s):control_vars.setup_weekend_status==="2"&&(t==5||t==6||t==7)&&(n=wpestate_return_weekeend_price(t,s)),wpestate_booking_calendat_get_price(s,n)}function wpestate_return_weekeend_price(e,t){return display_price="",mega_details[t]!==0[0]?parseFloat(mega_details[t].period_price_per_weekeend,10)!==0&&(display_price=parseFloat(mega_details[t].period_price_per_weekeend,10)):parseFloat(price_per_weekeend,10)!==0&&(display_price=parseFloat(price_per_weekeend,10)),display_price}function wpestate_show_min_days_reservation(e){if(s=0,t=0,mega_details[e]!=0[0]?t=parseFloat(mega_details[e].period_min_days_booking,10):min_days_booking!=null&&min_days_booking>0&&(t=parseFloat(min_days_booking,10)),o="date"+e,n=parseFloat(e,10),t>0)for(var t,n,s,o;s<t;)s++,jQuery("."+o).addClass("minim_days_reservation"),n=n+24*60*60,o="date"+n}function wpestate_remove_min_days_reservation(){jQuery(".wpestate_calendar").removeClass("minim_days_reservation")}function show_booking_costs(){if(i=control_vars.admin_url+"admin-ajax.php",o=jQuery("#listing_edit").val(),t=jQuery("#start_date").val(),e=jQuery("#end_date").val(),jQuery("#start_hour_wrapper_list").length>0){var e,t,n,s,o,i,r,a=t;if(jQuery("#start_hour_no_wrapper").attr("data-value")==="all"||jQuery("#end_hour_no_wrapper").attr("data-value")==="all")return;t=a+" "+jQuery("#start_hour_no_wrapper").attr("data-value"),t=wpestate_convert_selected_days(t),e=a+" "+jQuery("#end_hour_no_wrapper").attr("data-value"),e=wpestate_convert_selected_days(e)}else t=wpestate_convert_selected_days(t),e=wpestate_convert_selected_days(e);if(s=parseInt(jQuery("#booking_guest_no_wrapper").attr("data-value"),10),jQuery(".booking_form_request .guest_no_hidden").length>0&&(s=parseInt(jQuery(".booking_form_request .guest_no_hidden").val(),10)),jQuery(".cost_row_extra input").each(function(){jQuery(this).prop("checked",!1)}),t===""||e===""){jQuery("#show_cost_form").remove();return}if(n=parseInt(jQuery("#submit_booking_front").attr("data-guestfromone"),10),document.getElementById("submit_booking_front_instant")&&(n=parseInt(jQuery("#submit_booking_front_instant").attr("data-guestfromone"),10)),isNaN(n)&&(n=0),isNaN(s)&&(s=0),n===1&&s<1)return;if(jQuery("#booking_form_request_mess").empty().hide(),t>e&&e!==""){jQuery("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.nostart),jQuery("#show_cost_form").remove();return}if(e=="Invalid date")return;r=jQuery("#wprentals_add_booking").val(),jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_show_booking_costs",fromdate:t,todate:e,property_id:o,guest_no:s,guest_fromone:n,security:r},success:function(e){jQuery("#show_cost_form,.cost_row_instant").remove(),jQuery("#add_costs_here").before(e),wpestate_redo_listing_sidebar()},error:function(){}})}jQuery(document).ready(function(e){"use strict";wprentals_enable_fancybox_gallery(),wprentals_show_mobile_booking(),wpestate_redo_listing_sidebar(),o=0,a=new Date,c(),wpestate_contact_hosts_actions(),wpestate_contact_owner_actions(),wpestate_contact_client_actions(),e("#listing_description").outerHeight()>169&&e("#view_more_desc").show();var o,a,r=0;e("#view_more_desc").on("click",function(){var n,s=0;e(this).hasClass("lessismore")?(e(this).text(property_vars.viewmore).removeClass("lessismore"),e("#listing_description .panel-body").removeAttr("style"),e("#listing_description .panel-body").css("max-height","129px"),e("#listing_description .panel-body").css("overflow","hidden"),wpestate_redo_listing_sidebar()):(r=e(".listingsidebar").css("margin-top"),e(this).text(property_vars.viewless).addClass("lessismore"),e("#listing_description .panel-body").css("max-height","100%"),e("#listing_description .panel-body").css("overflow","initial"),jQuery("#primary").hasClass("listing_type_1")||jQuery("#primary").hasClass("wpestate_sidebar_sticky")||(s=e(".property_header").outerHeight()-390,n=parseInt(e("#primary").css("margin-top"),10),n=n-s,e("#primary").css("margin-top",n+"px")))}),e("#listing_main_image_photo").bind("mousemove",function(t){e("#tooltip-pic").css({top:t.pageY,left:t.pageX,"z-index":"1"})}),setTimeout(function(){e("#tooltip-pic").fadeOut("fast")},1e4),wprentals_show_booking_calendars("start_date","end_date"),wprentals_show_static_calendar(),e("#end_date").change(function(){var t=jQuery("#listing_edit").val();wpestate_setCookie("booking_prop_id_cookie",t,1),wpestate_setCookie("booking_end_date_cookie",e("#end_date").val(),1),booking_started=1,show_booking_costs()}),e("#start_date").change(function(){var t=jQuery("#listing_edit").val();wpestate_setCookie("booking_prop_id_cookie",t,1),wpestate_setCookie("booking_start_date_cookie",e("#start_date").val(),1),booking_started===1&&show_booking_costs()}),e("#booking_guest_no_wrapper_list li").on("click",function(){var e,t,n=jQuery("#listing_edit").val();wpestate_setCookie("booking_prop_id_cookie",n,1),e=parseInt(jQuery("#booking_guest_no_wrapper").attr("data-value")),wpestate_setCookie("booking_guest_cookie",e,1),t=jQuery(this).closest(".guest_icon "),t.find('input[name="booking_guest_no"]').val(e),(booking_started===1||jQuery("#start_hour_wrapper_list").length>0)&&show_booking_costs()}),e("#end_hour_wrapper_list li,#start_hour_wrapper_list li").on("click",function(){if(jQuery("#end_hour_input").val()==="")return;if(jQuery("start_hour_input").val()==="")return;show_booking_costs(),wpestate_setCookie("booking_start_hour_cookie",jQuery("#start_hour_no_wrapper").attr("data-value"),1),wpestate_setCookie("booking_end_hour_cookie",jQuery("#end_hour_no_wrapper").attr("data-value"),1)});function c(){var e,i,u,h,f,c=wpestate_getCookie("booking_guest_cookie"),s=wpestate_getCookie("booking_start_date_cookie"),r=wpestate_getCookie("booking_end_date_cookie"),g=wpestate_getCookie("booking_prop_id_cookie"),l=wpestate_getCookie("booking_start_hour_cookie"),d=wpestate_getCookie("booking_end_hour_cookie"),p=jQuery("#listing_edit").val(),t=parseInt(wpestate_getCookie("adult_guest_int"),10),n=parseInt(wpestate_getCookie("children_guest_int"),10),o=parseInt(wpestate_getCookie("infant_guest_int"),10),m=wpestate_getCookie("label_to_return"),a=parseInt(wpestate_getCookie("guest_no_hidden"),10);isNaN(t)&&(e=jQuery('input[name="adults_fvalue"]').val(),t=parseInt(e,10)),isNaN(n)&&(e=jQuery('input[name="childs_fvalue"]').val(),n=parseInt(e,10)),isNaN(o)&&(e=jQuery('input[name="infants_fvalue"]').val(),o=parseInt(e,10)),isNaN(a)&&(e=jQuery('input[name="guest_no"]').val(),a=parseInt(e,10)),jQuery("#submit_booking_front").length>0&&(i=parseInt(jQuery("#submit_booking_front").attr("data-maxguest"),10),h=parseInt(jQuery("#submit_booking_front").attr("data-max-overlooad"),10)),jQuery("#submit_booking_front_instant").length>0&&(i=parseInt(jQuery("#submit_booking_front_instant").attr("data-maxguest"),10),h=parseInt(jQuery("#submit_booking_front_instant").attr("data-max-overlooad"),10)),i=i+h,p===g&&property_vars.logged_in==="yes"&&(s!==""&&jQuery("#start_date").val(s),r!==""&&jQuery("#end_date").val(r),l!==""&&(jQuery("#start_hour_no_wrapper").attr("data-value",l),jQuery("#start_hour_no_wrapper .text_selection").html(l)),d!==""&&(jQuery("#end_hour_no_wrapper").attr("data-value",d),jQuery("#end_hour_no_wrapper .text_selection").html(d)),c!==""&&(jQuery("#booking_guest_no_wrapper").attr("data-value",c),jQuery("#booking_guest_no_wrapper .text_selection").html(c+" "+property_vars.guests)),s!==""&&r!==""&&c!==""&&(booking_started=1,show_booking_costs()),t!==""&&(jQuery(".steper_value_adults").text(t),jQuery("input[name='adults_fvalue]").val(t)),n!==""&&(jQuery(".steper_value_childs").text(n),jQuery("input[name='childs_fvalue]").val(n)),o!==""&&(jQuery(".steper_value_infants").text(o),jQuery("input[name='infants_fvalue]").val(o)),jQuery(".on_booking_control0").length==0?(u=t):(u=t+n),u>=i&&(f=jQuery(".wpestate_guest_no_buttons"),wpestate_block_unblock_plus_buttons(f,"block")),m!==""&&jQuery(".wpestate_guest_no_control_info").text(m),a!==""&&jQuery(".booking_form_request .guest_no_hidden").val(a),s!==""&&r!==""&&a!==""&&(booking_started=1,show_booking_costs()),jQuery("#start_hour_no_wrapper").length>0&&s!==""&&l!==""&&d!==""&&show_booking_costs())}e("#booking_form_request li").on("click",function(e){e.preventDefault();var n=parseInt(jQuery("#submit_booking_front").attr("data-overload"),10),t=parseInt(jQuery("#submit_booking_front").attr("data-guestfromone"),10);document.getElementById("submit_booking_front_instant")&&(n=parseInt(jQuery("#submit_booking_front_instant").attr("data-overload"),10),t=parseInt(jQuery("#submit_booking_front_instant").attr("data-guestfromone"),10)),(n===1&&booking_started===1||t===1)&&show_booking_costs()}),e(".cost_row_extra input").on("click",function(){if(g=e(this).parent().parent(),d=parseFloat(g.attr("data-value_add")),d=parseFloat(n(d)),b=parseFloat(g.attr("data-value_how")),u=g.attr("data-value_name"),M=jQuery(this).attr("data-key"),h=wpestate_convert_selected_days(jQuery("#start_date").val()),v=wpestate_convert_selected_days(jQuery("#end_date").val()),jQuery("#start_hour_wrapper_list").length>0){var t,o,a,r,c,l,d,u,m,f,p,g,v,b,j,y,_,w,O,C,E,k,A,S,M,h=jQuery("#start_date").val(),x=h;if(jQuery("#start_hour_no_wrapper").attr("data-value")==="all"||jQuery("#end_hour_no_wrapper").attr("data-value")==="all")return;h=x+" "+jQuery("#start_hour_no_wrapper").attr("data-value"),h=wpestate_convert_selected_days(h),v=x+" "+jQuery("#end_hour_no_wrapper").attr("data-value"),v=wpestate_convert_selected_days(v)}S=jQuery("#listing_edit").val(),m=parseInt(jQuery("#booking_guest_no_wrapper").attr("data-value")),jQuery(".booking_form_request").length>0&&(m=parseInt(jQuery(".booking_form_request .guest_no_hidden").val(),10)),A=g.find(".cost_value_show").text(),C=new Date(h),k=new Date(v),w=24*60*60*1e3,property_vars.book_type==="2"&&(w=60*60*1e3),_=Math.round(Math.abs((C.getTime()-k.getTime())/w)),t=parseFloat(e("#total_cost_row .cost_value").attr("data_total_price")),t=parseFloat(n(t)),(m===0||isNaN(m))&&(m=1),e(this).is(":checked")?(b===0?l=d:b===1?l=d*_:b===2?l=d*m:b===3&&(l=d*_*m),E='<div class="cost_row" id="'+estate_makeSafeForCSS(u)+'" data-added="'+l+'"><div class="cost_explanation">'+u+'</div><div class="cost_value">'+estate_format_number_with_currency(l.toFixed(2))+"</div></div>",e("#total_cost_row").before(E),o=parseFloat(e("#early_bird_discount").attr("data-early-bird")),o=parseFloat(n(o)),(isNaN(o)||o===0)&&(o=0),o.toFixed(2),t=t+o,t=t+l,o!==0&&(o=o+l*property_vars.early_discount/100,f=s(o),o.toFixed(2)),t=t-o,t=t.toFixed(2),c=t,control_vars.include_expeses==="no"&&(r=parseFloat(e(".cleaning_fee_value").attr("data_cleaning_fee")),r.toFixed(2),a=parseFloat(e(".city_fee_value").attr("data_city_fee")),a.toFixed(2),isNaN(a)&&(a=0),isNaN(r)&&(r=0),c=c-r-a,c.toFixed(2)),e("#total_cost_row .cost_value").text(estate_format_number_with_currency(t)),y=s(t),e("#total_cost_row .cost_value").attr("data_total_price",y),p=i(c),j=t-p,e(".instant_depozit_value").text(estate_format_number_with_currency(p.toFixed(2))),e(".instant_balance_value").text(estate_format_number_with_currency(j.toFixed(2))),e("#early_bird_discount").text(estate_format_number_with_currency(o.toFixed(2))),e("#early_bird_discount").attr("data-early-bird",f)):(u=estate_makeSafeForCSS(u),O=parseFloat(e("#"+u).attr("data-added")),e("#"+u).remove(),o=parseFloat(e("#early_bird_discount").attr("data-early-bird")),(isNaN(o)||o===0)&&(o=0),f=n(o),o.toFixed(2),t=t+f,t=t-O,o!==0&&(o=f-O*property_vars.early_discount/100,f=s(o),o.toFixed(2)),t=t-o,t=t.toFixed(2),c=t,control_vars.include_expeses==="no"&&(r=parseFloat(e(".cleaning_fee_value").attr("data_cleaning_fee")),r=isNaN(r)?0:r,a=parseFloat(e(".city_fee_value").attr("data_city_fee")),a=isNaN(a)?0:a,c=c-r-a,c.toFixed(2)),e("#total_cost_row .cost_value").text(estate_format_number_with_currency(t)),y=s(t),e("#total_cost_row .cost_value").attr("data_total_price",y),p=i(c),j=t-p,e(".instant_depozit_value").text(estate_format_number_with_currency(p)),e(".instant_balance_value").text(estate_format_number_with_currency(j)),e("#early_bird_discount").text(estate_format_number_with_currency(o)),e("#early_bird_discount").attr("data-early-bird",f)),wpestate_redo_listing_sidebar()});function i(e){var t=0;return control_vars.wp_estate_book_down_fixed_fee==="0"?control_vars.wp_estate_book_down===""||control_vars.wp_estate_book_down==="0"?t=0:t=control_vars.wp_estate_book_down*e/100:t=control_vars.wp_estate_book_down_fixed_fee,t}function n(e){var t="";return!isNaN(my_custom_curr_pos)&&my_custom_curr_pos!==-1?(t=e*my_custom_curr_coef,t):e}function s(e){var t="";return!isNaN(my_custom_curr_pos)&&my_custom_curr_pos!==-1?(t=e/my_custom_curr_coef,t):e}e("#submit_booking_front,#submit_booking_front_instant").on("click",function(n){n.preventDefault();var i,a,r,c,d,u,h,m,f,p,s=jQuery(this);if(s.val(property_vars.processing),s.prop("disabled",!0),f=jQuery(this).parents().eq(2),p=e("#booking_form_request").offset().top-100,e("html, body").animate({scrollTop:p},400),property_vars.logged_in==="no"&&e("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.notlog),!l()||o===1){t(s);return}if(i=jQuery("#booking_guest_no_wrapper").attr("data-value"),i=parseInt(i,10),jQuery(".guest_no_hidden").length>0&&(i=parseInt(f.find(".guest_no_hidden").val(),10)),isNaN(i)&&(i=0),property_vars.rental_type==="1"&&(i=1),c=parseInt(jQuery("#submit_booking_front").attr("data-maxguest"),10),d=parseInt(jQuery("#submit_booking_front").attr("data-overload"),10),u=parseInt(jQuery("#submit_booking_front").attr("data-guestfromone"),10),document.getElementById("submit_booking_front_instant")&&(c=parseInt(jQuery("#submit_booking_front_instant").attr("data-maxguest"),10),d=parseInt(jQuery("#submit_booking_front_instant").attr("data-overload"),10),u=parseInt(jQuery("#submit_booking_front_instant").attr("data-guestfromone"),10)),u===1&&i<1){e("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.noguest),t(s);return}if(i<1){e("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.noguest),t(s);return}if(d===0&&i>c){e("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.guestoverload+c+" "+property_vars.guests),t(s);return}if(jQuery("#wprentals_booking_check_terms").length>0&&!jQuery("#wprentals_booking_check_terms").is(":checked")){jQuery("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.book_terms),t(s);return}if(h=0,jQuery("#submit_booking_front_instant").length>0&&property_vars.is_woo==="yes"&&(h=1),jQuery("#start_hour_wrapper_list").length>0){if(a=jQuery("#start_date").val(),m=a,jQuery("#start_hour_no_wrapper").attr("data-value")==="all"||jQuery("#end_hour_no_wrapper").attr("data-value")==="all")return;if(a=m+" "+jQuery("#start_hour_no_wrapper").attr("data-value"),a=wpestate_convert_selected_days(a),r=m+" "+jQuery("#end_hour_no_wrapper").attr("data-value"),r=wpestate_convert_selected_days(r),a>r&&r!==""){jQuery("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.nostart),jQuery("#show_cost_form").remove(),t(s);return}}property_vars.logged_in==="no"&&h===0?(e("#booking_form_request_mess").show().empty().addClass("book_not_available").append(property_vars.notlog),login_modal_type=3,wpestate_show_login_form(1,9,0),t(s)):(e("#booking_form_request_mess").show().empty().removeClass("book_not_available").append(property_vars.sending),wpestate_redo_listing_sidebar(),wprentals_check_booking_valability(s))});function t(e){e.attr("id")==="submit_booking_front_instant"?e.val(property_vars.instant_booking):e.val(property_vars.book_now),e.prop("disabled",!1)}function l(){var t=e("#start_date").val(),n=e("#end_date").val();return t!==""&&n!==""||(e("#booking_form_request_mess").empty().addClass("book_not_available").show().append(property_vars.plsfill),!1)}});function wpestate_show_contact_owner_form(){var s=ajaxcalls_vars.admin_url+"admin-ajax.php",n=jQuery("#contact_owner_modal");n.appendTo("body"),n.modal(),enable_actions_modal_contact()}function wpestate_contact_hosts_actions(){jQuery("#contact_host,#contact_me_long,.contact_owner_reservation").on("click",function(){var t=0,e=jQuery(this).attr("data-postid"),n=jQuery(this).attr("data-bookid");jQuery("#submit_mess_front").attr("data-property_id",n),wpestate_show_contact_owner_form(e,t)})}function wpestate_contact_client_actions(){jQuery(".contact_client_reservation").on("click",function(){var n,t=0,e=jQuery(this).attr("data-bookid");jQuery("#submit_message_to_client_dashboard").attr("data-bookid",e),wpestate_show_contact_owner_form(e,t)})}function wpestate_contact_owner_actions(){jQuery("#contact_me_long_owner").on("click",function(){var t=0,e=jQuery(this).attr("data-postid");wpestate_show_contact_owner_form(t,e)})}function enable_actions_modal_contact(){wpestate_sending_message_to_client(),jQuery("#contact_owner_modal").on("hidden.bs.modal",function(){jQuery("#contact_owner_modal").hide()});var e=(new Date).getTime();jQuery("#booking_from_date").change(function(){var e=new Date(jQuery("#booking_from_date").val()),t=jQuery("#booking_from_date").val(),e=wpestate_convert_selected_days_simple_add_days(t,1);jQuery("#booking_to_date").datepicker("destroy"),jQuery("#booking_to_date").datepicker({minDate:e},jQuery.datepicker.regional[control_vars.datepick_lang])}),jQuery("#submit_mess_front").on("click",function(e){if(e.preventDefault(),t=jQuery(this),t.val(property_vars.processing),t.text(property_vars.processing),t.prop("disabled",!0),jQuery(this).closest(".booking_form_request").length>0)var t,s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,n=jQuery(this).closest(".booking_form_request");else n=jQuery("#contact_owner_modal");if(g=control_vars.admin_url+"admin-ajax.php",u=jQuery("#booking_from_date").val(),h=jQuery("#booking_to_date").val(),jQuery("#booking_guest_no").length>0?c=jQuery("#booking_guest_no").val():(c=n.find(".guest_no_hidden").val(),m=n.find("input[name='adults_fvalue']").val(),f=n.find("input[name='infants_fvalue']").val(),p=n.find("input[name='childs_fvalue']").val()),l=jQuery("#booking_mes_mess").val(),s=jQuery("#agent_property_id").val(),o=jQuery("#agent_id").val(),a=jQuery("#booking_phone_no").val(),d=jQuery("#security-register-mess-front").val(),r=jQuery("#contact_u_email").val(),i=jQuery("#contact_u_name").val(),v===""||l===""||jQuery("#booking_phone_no").length>0&&a==""){jQuery("#booking_form_request_mess_modal").empty().addClass("book_not_available").append(property_vars.plsfill),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1);return}if(property_vars.logged_in!=="yes"&&(r===""||i==="")){jQuery("#booking_form_request_mess_modal").empty().addClass("book_not_available").append(property_vars.plsfill),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1);return}if(s==0&&jQuery(".contact_owner_reservation").length>0&&(s=jQuery(this).attr("data-property_id"),o=0),d=jQuery("#wprentals_submit_mess_front_nonce").val(),property_vars.use_gdpr==="yes"&&!jQuery("#wpestate_agree_gdpr").is(":checked")){jQuery("#booking_form_request_mess_modal").empty().addClass("book_not_available").append(property_vars.gdpr_terms),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1);return}jQuery.ajax({type:"POST",url:g,data:{action:"wpestate_mess_front_end",message:l,booking_guest_no:c,adults_fvalue:m,infants_fvalue:f,childs_fvalue:p,booking_from_date:u,booking_to_date:h,agent_property_id:s,agent_id:o,contact_u_email:r,contact_u_name:i,phone_no:a,security:d},success:function(e){jQuery("#booking_form_request_mess_modal").empty().removeClass("book_not_available").append(e),setTimeout(function(){jQuery("#contact_owner_modal").modal("hide"),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1),jQuery("#contact_u_email").val(""),jQuery("#contact_u_name").val(""),jQuery("#booking_from_date").val(""),jQuery("#booking_to_date").val(""),jQuery("#booking_guest_no").val("1"),jQuery("#booking_mes_mess").val(""),jQuery("#booking_phone_no").val(""),n.find(".guest_no_hidden").val(""),n.find("input[name='adults_fvalue']").val(""),n.find("input[name='infants_fvalue']").val(""),n.find("input[name='childs_fvalue']").val(""),n.find(".wpestate_guest_no_control_info ").empty().text(property_vars.guests),jQuery("#contact_for_reservation").length===0&&(jQuery("#submit_mess_front").unbind("click"),jQuery("#booking_form_request_mess_modal").empty())},2e3)},error:function(){}})})}function wpestate_sending_message_to_client(){jQuery("#submit_message_to_client_dashboard").on("click",function(){if(t=jQuery(this),t.val(property_vars.processing),t.text(property_vars.processing),t.prop("disabled",!0),o=control_vars.admin_url+"admin-ajax.php",n=jQuery("#booking_mes_mess").val(),s=jQuery("#security-register-mess-front").val(),i=t.attr("data-bookid"),n===""){jQuery("#booking_form_request_mess_modal").empty().addClass("book_not_available").append(property_vars.plsfill),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1);return}var t,n,o,i,s=jQuery("#wprentals_submit_mess_front_nonce").val();jQuery.ajax({type:"POST",url:o,dataType:"json",data:{action:"wpestate_message_client_dashboard",message:n,bookingID:i,security:s},success:function(e){jQuery("#booking_form_request_mess_modal").empty().removeClass("book_not_available").append(e),setTimeout(function(){jQuery("#contact_owner_modal").modal("hide"),t.val(property_vars.send_mess),t.text(property_vars.send_mess),t.prop("disabled",!1),jQuery("#booking_mes_mess").val("")},2e3)},error:function(){}})})}function estate_format_number_with_currency(e){return!isNaN(my_custom_curr_pos)&&my_custom_curr_pos!==-1?my_custom_curr_cur_post==="before"?my_custom_curr_symbol2+" "+e:e+" "+my_custom_curr_symbol2:control_vars.where_curency==="before"?control_vars.curency+" "+e:e+" "+control_vars.curency}function estate_makeSafeForCSS(e){return e.replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return t==32?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})}function wpestate_setCookie(e,t,n){var o,s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),o="expires="+s.toUTCString(),document.cookie=e+"="+t+";"+o+";path=/"}function wpestate_getCookie(e){for(var t,s=e+"=",i=decodeURIComponent(document.cookie),o=i.split(";"),n=0;n<o.length;n++){for(t=o[n];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(s)==0)return t.substring(s.length,t.length)}return""}function wprentals_show_static_calendar(){if(jQuery("#all-front-calendars_per_hour").length>0){var e,t,n,o,i=new Date,a="",s=[];for(t in booking_array)booking_array.hasOwnProperty(t)&&t!==""&&(e=[],e.title=property_vars.reserved,e.start=moment.unix(t).utc().format(),e.end=moment.unix(booking_array[t]).utc().format(),e.editable=!1,s.push(e));o=document.getElementById("all-front-calendars_per_hour"),n=new FullCalendar.Calendar(o,{initialView:"timeGridWeek",navLinks:!1,selectable:!1,selectOverlap:!1,height:"auto",slotDuration:"01:00:00",allDayText:property_vars.hours,weekNumbers:!1,weekNumberCalculation:"ISO",editable:!1,unselectAuto:!1,isRTL:control_vars_property.rtl_book_hours_calendar,slotMinTime:control_vars_property.booking_start_hour,slotMaxTime:control_vars_property.booking_end_hour,businessHours:{daysOfWeek:[0,1,2,3,4,5,6,7],startTime:control_vars_property.booking_start_hour,endTime:control_vars_property.booking_end_hour},timeZone:"UTC",events:s}),typeof wprentals_per_hour_locale_vars!="undefined"&&typeof wprentals_per_hour_locale_vars.date_lang_status!="undefined"&&n.setOption("locale",wprentals_per_hour_locale_vars.date_lang_status),n.render()}}function check_in_out_enable_calendar_per_hour_new(e,t){"use strict";n=new Date,s=control_vars.date_format.toUpperCase(),n=moment(n).format("MM/DD/YYYY"),show_daterange_picker_custom_mess="no",o="left",jQuery("#primary").hasClass("col-md-pull-8")&&(o="right"),jQuery("#"+e).attr("readonly","readonly");var n,o,r,c,i={opens:o,singleDatePicker:!0,autoApply:!0,alwaysShowCalendars:!0,autoUpdateInput:!1,minDate:n,startDate:n,locale:{daysOfWeek:dayNamesShort,monthNames:longmonths}},s=control_vars.date_format.toUpperCase(),s=s.replace("YY","YYYY"),a=jQuery("#"+e),l=jQuery("#"+t),d=jQuery("#"+e).daterangepicker(i,function(e){var o,i=e.format(s);a.val(i),show_booking_costs(),o=jQuery("#listing_edit").val(),wpestate_setCookie("booking_prop_id_cookie",o,1),wpestate_setCookie("booking_start_date_cookie",jQuery("#start_date").val(),1)})}function check_in_out_enable_calendar_per_hour_old(e,t){"use strict";jQuery("#"+t).removeAttr("disabled"),jQuery("#"+e).on("click",function(){jQuery("#book_per_hour_wrapper").show(),wprentals_show_Calendar(e,t),jQuery("#book_per_hour_calendar").fullCalendar("render")}),jQuery("#"+t).on("click",function(){jQuery("#book_per_hour_wrapper").show(),wprentals_show_Calendar(e,t),jQuery("#book_per_hour_calendar").fullCalendar("render")}),jQuery("#book_per_hour_close").on("click",function(){jQuery("#book_per_hour_wrapper").hide()}),jQuery("#per_hour_ok").on("click",function(){jQuery("#book_per_hour_wrapper").hide(),show_booking_costs()}),jQuery("#per_hour_cancel").on("click",function(){jQuery("#book_per_hour_wrapper").hide(),jQuery("#"+e).val(""),jQuery("#"+t).val("")});var n,s,o;jQuery("#"+e+",#"+t).blur()}window.wprentals_mobilecheck=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};function wprentals_show_Calendar(e,t){var n,s,o=new Date,a="",i=[];for(s in booking_array)booking_array.hasOwnProperty(s)&&s!==""&&(n=[],n.title=property_vars.reserved,n.start=moment.unix(s).utc().format(),n.end=moment.unix(booking_array[s]).utc().format(),n.editable=!1,i.push(n));jQuery("#book_per_hour_calendar").fullCalendar({defaultView:"agendaWeek",defaultDate:o,selectable:!0,selectHelper:!0,selectOverlap:!1,footer:!1,slotDuration:"01:00:00",validRange:{start:o,end:"2025-06-01"},allDayText:property_vars.hours,allDay:!1,forceEventDuration:!0,defaultTimedEventDuration:"05:00:00",navLinks:!1,weekNumbers:!1,weekNumbersWithinDays:!1,weekNumberCalculation:"ISO",editable:!0,eventLimit:!0,unselectAuto:!1,nowIndicator:!0,defaultEventMinutes:200,isRTL:control_vars_property.rtl_book_hours_calendar,longPressDelay:100,eventLongPressDelay:100,selectLongPressDelay:100,header:{left:"prev,next today",center:"title",right:""},minTime:control_vars_property.booking_start_hour,maxTime:control_vars_property.booking_end_hour,dayRender:function(e,t){e.isSame(o,"day")&&t.attr("xday","meday")},dayClick:function(){},select:function(n,s){s=moment(s);var a,r,d,u,c=parseFloat(control_vars_property.min_days_booking),l=moment(n).startOf("day")/1e3;mega_details[l]!==0[0]&&(c=mega_details[l].period_min_days_booking),r=moment(n).add(c,"hours"),r>s&&(s=r),jQuery("#book_per_hour_calendar").fullCalendar("unselect"),jQuery("#book_per_hour_calendar").fullCalendar("removeEvents","rentals_custom_book_initial"),jQuery("#book_per_hour_calendar").fullCalendar("renderEvent",{id:"rentals_custom_book_initial",start:n,end:s,allDay:!1,editable:!1},!0),jQuery("#book_per_hour_calendar").fullCalendar("removeEvents","rentals_custom_book"),d=control_vars.date_format.toUpperCase()+" HH:mm",a=d.replace("YY","YYYY"),jQuery("#"+e).val(n.format(a)),jQuery("#"+t).val(s.format(a)),jQuery(".fc-center .hour_selection").empty().html(n.format(a)+" to "+s.format(a)),u=jQuery("#listing_edit").val(),wpestate_setCookie("booking_prop_id_cookie",u,1),wpestate_setCookie("booking_start_date_cookie",n.format(a),1),wpestate_setCookie("booking_end_date_cookie",s.format(a),1),booking_started=1},events:i}),jQuery(".fc-center .hour_selection").remove(),jQuery("#book_per_hour .fc-center").append('<div class="hour_selection">'+property_vars.clickandragtext+"</div>")}