var geocoder,map,selected_id="",gmarkers=[];function initialize(){"use strict";var e,t,n,s,o,i;if(geocoder=new google.maps.Geocoder,e=jQuery("#property_latitude").val(),t=jQuery("#property_longitude").val(),(e===""||e===0||e==="0")&&(e=google_map_submit_vars.general_latitude),(t===""||t===0||t==="0")&&(t=google_map_submit_vars.general_longitude),n={flat:!1,noClear:!1,zoom:17,scrollwheel:!1,draggable:!0,disableDefaultUI:!1,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"cooperative"},document.getElementById("googleMapsubmit"))map=new google.maps.Map(document.getElementById("googleMapsubmit"),n);else return;google.maps.visualRefresh=!0,s=new google.maps.LatLng(e,t),wpestate_placeSavedMarker(s),mapfunctions_vars.map_style!==""&&(o=JSON.parse(mapfunctions_vars.map_style),map.setOptions({styles:o})),google.maps.event.addListener(map,"click",function(e){wpestate_placeMarker(e.latLng)})}function wpestate_placeSavedMarker(e){"use strict";var t,n;wpestate_removeMarkers(),t=new google.maps.Marker({position:e,map}),gmarkers.push(t),n=new google.maps.InfoWindow({content:"Latitude: "+e.lat()+"<br>Longitude: "+e.lng()}),n.open(map,t)}function wprentals_submit_google_codeAddress(){"use strict";var n,s=document.getElementById("property_address").value,o=jQuery("#property_city_submit").val(),e=s+","+o,t=document.getElementById("property_country").value;t&&(e=e+","+t),geocoder.geocode({address:e},function(e,t){if(t===google.maps.GeocoderStatus.OK){map.setCenter(e[0].geometry.location);var s=new google.maps.Marker({map,position:e[0].geometry.location});gmarkers.push(s),n=new google.maps.InfoWindow({content:"Latitude: "+e[0].geometry.location.lat()+"<br>Longitude: "+e[0].geometry.location.lng()}),n.open(map,s),document.getElementById("property_latitude").value=e[0].geometry.location.lat(),document.getElementById("property_longitude").value=e[0].geometry.location.lng()}else alert(google_map_submit_vars.geo_fails+t)})}function wpestate_placeMarker(e){"use strict";var t,n;wpestate_removeMarkers(),t=new google.maps.Marker({position:e,map}),gmarkers.push(t),n=new google.maps.InfoWindow({content:"Latitude: "+e.lat()+"<br>Longitude: "+e.lng()}),n.open(map,t),document.getElementById("property_latitude").value=e.lat(),document.getElementById("property_longitude").value=e.lng()}function wpestate_removeMarkers(){"use strict";var e;for(e=0;e<gmarkers.length;e++)gmarkers[e].setMap(null)}function wprentals_google_setMarkers(){"use strict"}jQuery("#open_google_submit").on("click",function(){"use strict";setTimeout(function(){initialize(),google.maps.event.trigger(map,"resize")},300)}),jQuery("#google_capture").on("click",function(e){"use strict";wprentals_map_type===1&&(wpestate_removeMarkers(),e.preventDefault(),wprentals_submit_google_codeAddress())}),typeof google=="object"&&typeof google.maps=="object"?google.maps.event.addDomListener(window,"load",initialize):wprentals_initialize_map_submit_leaflet()