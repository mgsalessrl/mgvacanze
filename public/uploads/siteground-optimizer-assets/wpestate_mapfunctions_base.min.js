wprentals_map_type=parseInt(mapbase_vars.wprentals_map_type);var lealet_map_move_on_hover=0,propertyMarker_submit="",leaflet_map_move_flag=0,wpestate_hover_action_flag=0;window.initMap=function(){};function wprentals_map_general_start_map(e){"use strict";var t;e=="prop"?t=parseInt(googlecode_property_vars.page_custom_zoom,10):t=parseInt(googlecode_regular_vars.page_custom_zoom,10),wprentals_map_type===1?wprentals_google_start_map(t):wprentals_map_type===2&&wprentals_leaflet_start_map(t)}function wprentals_map_general_set_markers(e,t){"use strict";wprentals_google_setMarkers2(e,t)}function wprentals_map_general_cluster(){"use strict";if(typeof map=="undefined"||!map)return;wprentals_map_type===1?wprentals_google_map_cluster():wprentals_map_type===2&&wprentals_leaflet_map_cluster()}function wprentals_leaflet_map_cluster(){"use strict";if(typeof map=="undefined"||!map)return;map.addLayer(markers_cluster)}function wprentals_map_general_fit_to_bounds(){"use strict";wprentals_map_type===1?wprentals_google_fit_to_bounds():wprentals_map_type===2&&wprentals_leaflet_fit_to_bounds()}function wprentals_map_general_map_pan_move(){"use strict";wprentals_map_type===1?wprentals_google_map_pan_move():wprentals_map_type===2&&wprentals_leaflet_map_pan_move()}function wprentals_leaflet_start_map(e){"use strict";(typeof curent_gview_long=="undefined"||curent_gview_lat===""||curent_gview_long==="0")&&(typeof googlecode_property_vars!="undefined"&&(curent_gview_lat=googlecode_property_vars.general_latitude),typeof googlecode_regular_vars!="undefined"&&(curent_gview_lat=googlecode_regular_vars.general_latitude)),(typeof curent_gview_long=="undefined"||curent_gview_long===""||curent_gview_long==="0")&&(typeof googlecode_property_vars!="undefined"&&(curent_gview_long=googlecode_property_vars.general_longitude),typeof googlecode_regular_vars!="undefined"&&(curent_gview_long=googlecode_regular_vars.general_longitude));var n,s,o,i,t=jQuery("#wpestate_full_map_control_data");if(t.attr("data-term_lat")!==0[0]&&t.attr("data-term_long")!==0[0]&&t.attr("data-term_zoom")!==0[0]&&(curent_gview_lat=t.attr("data-term_lat").replace(/&quot;/g,""),curent_gview_long=t.attr("data-term_long").replace(/&quot;/g,""),e=Number(t.attr("data-term_zoom").replace(/&quot;/g,"").trim()),s=t.attr("data-term_geojson")?.replace(/&quot;/g,"").replace(/"/g,"").trim()||""),o=L.latLng(curent_gview_lat,curent_gview_long),n="",document.getElementById("googleMap")?n="googleMap":document.getElementById("google_map_prop_list")?n="google_map_prop_list":document.getElementById("google_map_on_list")&&(n="google_map_on_list",map_intern=1),n==="")return;map&&map.remove(),map=L.map(n,{center:o,zoom:e}).on("load",function(){jQuery("#gmap-loading").remove()}),i=wprentals_open_stret_tile_details(),map.addLayer(i),map.scrollWheelZoom.disable(),Modernizr.mq("only all and (max-width: 768px)")&&map.dragging.disable(),s&&jQuery.getJSON(s,function(e){L.geoJSON(e).addTo(map)}),map.on("popupopen",function(e){if(lealet_map_move_on_hover=1,jQuery("#google_map_prop_list_wrapper").length==0){var t=map.project(e.popup._latlng);mapfunctions_vars.useprice==="yes"?t.y-=115:t.y-=320/2,map.panTo(map.unproject(t),{animate:!0})}lealet_map_move_on_hover=1}),map.on("load",function(){jQuery("#gmap-loading").remove()}),Modernizr.mq("only all and (max-width: 768px)")&&map.on("dblclick ",function(){map.dragging.enabled()?map.dragging.disable():map.dragging.enable()}),markers_cluster=L.markerClusterGroup({iconCreateFunction:function(e){return L.divIcon({html:'<div class="leaflet_cluster" style="background-image: url('+images.cloud_pin+')">'+e.getChildCount()+"</div>"})}})}function wprentals_open_stret_tile_details(){"use strict";if(mapbase_vars.wp_estate_mapbox_api_key==="")var e=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});else e=L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}?access_token="+mapbase_vars.wp_estate_mapbox_api_key,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18,id:"mapbox.streets",accessToken:"your.mapbox.access.token"});return e}function wprentals_google_start_map(e){"use strict";(typeof curent_gview_long=="undefined"||curent_gview_lat===""||curent_gview_lat==="0")&&(typeof googlecode_property_vars!="undefined"&&(curent_gview_lat=googlecode_property_vars.general_latitude),typeof googlecode_regular_vars!="undefined"&&(curent_gview_lat=googlecode_regular_vars.general_latitude)),(typeof curent_gview_long=="undefined"||curent_gview_long===""||curent_gview_long==="0")&&(typeof googlecode_property_vars!="undefined"&&(curent_gview_long=googlecode_property_vars.general_longitude),typeof googlecode_regular_vars!="undefined"&&(curent_gview_long=googlecode_regular_vars.general_longitude));var n,s,i,t=jQuery("#wpestate_full_map_control_data");if(t.attr("data-term_lat")!==0[0]&&t.attr("data-term_long")!==0[0]&&t.attr("data-term_zoom")!==0[0]&&(curent_gview_lat=t.attr("data-term_lat").replace(/&quot;/g,""),curent_gview_long=t.attr("data-term_long").replace(/&quot;/g,""),e=Number(t.attr("data-term_zoom").replace(/&quot;/g,"").trim()),i=t.attr("data-term_geojson")?.replace(/&quot;/g,"").replace(/"/g,"").trim()||""),n={flat:!1,noClear:!1,zoom:e,scrollwheel:!1,draggable:!0,maxZoom:18,center:new google.maps.LatLng(curent_gview_lat,curent_gview_long),mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP]},disableDefaultUI:!0,gestureHandling:"cooperative"},document.getElementById("googleMap"))map=new google.maps.Map(document.getElementById("googleMap"),n);else if(document.getElementById("google_map_prop_list"))n.minZoom=4,map=new google.maps.Map(document.getElementById("google_map_prop_list"),n);else if(document.getElementById("google_map_on_list"))map=new google.maps.Map(document.getElementById("google_map_on_list"),n),map_intern=1;else return;bounds_list=new google.maps.LatLngBounds,google.maps.visualRefresh=!0,mapfunctions_vars.map_style!==""&&(s=JSON.parse(mapfunctions_vars.map_style),map.setOptions({styles:s})),typeof map_style_shortcode!="undefined"&&map_style_shortcode!==""&&(s=map_style_shortcode,map.setOptions({styles:s})),google.maps.event.addListener(map,"tilesloaded",function(){jQuery("#gmap-loading").remove()}),i&&map.data.loadGeoJson(i),google.maps.event.addListener(map,"tilesloaded",function(){jQuery("#gmap-loading").remove()}),document.getElementById("googleMap")&&(google.maps.event.addDomListener(document.getElementById("googleMap"),"mousewheel",o),google.maps.event.addDomListener(document.getElementById("googleMap"),"DOMMouseScroll",o)),document.getElementById("google_map_prop_list")&&(google.maps.event.addDomListener(document.getElementById("google_map_prop_list"),"mousewheel",o),google.maps.event.addDomListener(document.getElementById("google_map_prop_list"),"DOMMouseScroll",o));function o(e){map.scrollwheel===!0&&e.stopPropagation()}}function wprentals_leaflet_fit_to_bounds(){"use strict";typeof bounds_list!="undefined"&&bounds_list.isValid()?mapfunctions_vars.bypass_fit_bounds!=="1"&&wpestate_fit_bounds_leaflet(bounds_list):wpestate_fit_bounds_nolsit_leaflet()}function wprentals_google_fit_to_bounds(){"use strict";document.getElementById("google_map_prop_list")?bounds_list.isEmpty()?wpestate_fit_bounds_nolsit():mapfunctions_vars.bypass_fit_bounds!=="1"&&wpestate_fit_bounds(bounds_list):document.getElementById("googleMap")&&(bounds_list.isEmpty()?wpestate_fit_bounds_nolsit():mapfunctions_vars.bypass_fit_bounds!=="1"&&wpestate_fit_bounds(bounds_list))}function wprentals_map_general_spiderfy(){"use strict";if(typeof map=="undefined"||!map)return;wprentals_map_type===1&&(oms=new OverlappingMarkerSpiderfier(map,{markersWontMove:!0,markersWontHide:!0,keepSpiderfied:!0,legWeight:3}),setOms(gmarkers))}function wprentals_leaflet_map_pan_move(){"use strict";googlecode_regular_vars.on_demand_pins==="yes"&&mapfunctions_vars.is_tax!=1&&mapfunctions_vars.is_property_list==="1"&&map.on("moveend",function(){wpestate_hover_action_flag===0&&wpestate_ondenamd_map_moved_leaflet()})}function wprentals_google_map_pan_move(){"use strict";googlecode_regular_vars.on_demand_pins==="yes"&&mapfunctions_vars.is_tax!=1&&mapfunctions_vars.is_property_list==="1"&&map.addListener("idle",function(){wpestate_hover_action_flag===0&&wpestate_ondenamd_map_moved()})}function wprentals_google_setMarkers2(e,t){"use strict";var n,s,o,i,a,r,c,l,d,u,h,m,f,p,v,b,j,y,_,w,O,x,C,E,k,A,S,g=parseInt(jQuery("#gmap_wrapper").attr("data-post_id"),10);isNaN(g)&&(g=parseInt(jQuery("#google_map_on_list").attr("data-post_id"),10)),S=parseInt(mapfunctions_vars.open_height,10),A=parseInt(mapfunctions_vars.closed_height,10),i=jQuery(window).width(),infobox_width=700,vertical_pan=-215,i<900&&(infobox_width=500),i<600&&(infobox_width=400),i<400&&(infobox_width=200);for(s=0;s<t.length;s++)n=t[s],o=n[10],l=n[1],d=n[2],u=decodeURIComponent(n[0]),h=n[8],m=n[3],f=decodeURIComponent(n[4]),p=decodeURIComponent(n[5]),a=decodeURIComponent(n[6]),r=decodeURIComponent(n[7]),b=decodeURIComponent(n[9]),j=decodeURIComponent(n[11]),y=decodeURIComponent(n[12]),_=n[13],w=n[14],O=n[15],x=n[16],C=decodeURIComponent(n[17]),E=decodeURIComponent(n[18]),k=decodeURIComponent(n[19]),v=decodeURIComponent(n[20]),c=decodeURIComponent(n[21]),g===o&&(found_id=s),wprentals_map_type===1?wprentals_createMarker_google(v,infobox_width,x,s,o,l,d,h,u,m,f,p,a,r,b,j,y,w,O,_,C,E,k,c):wprentals_map_type===2&&wprentals_createMarker_leaflet(v,infobox_width,x,s,o,l,d,h,u,m,f,p,a,r,b,j,y,w,O,_,C,E,k,c)}function wprentals_createMarker_google(e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O){"use strict";var x,C,k,A=jQuery("<textarea />").html(c).text(),E="",S=0,M=document.createElement("div"),F={content:M,disableAutoPan:!0,maxWidth:t,boxClass:"mybox",zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};infoBox=new InfoBox(F),C=new google.maps.LatLng(i,a),mapfunctions_vars.useprice==="yes"&&mapfunctions_vars.hidden_map?(E=" pin_price_info ",k=new google.maps.LatLng(i,a),x=new WpstateMarker(g,p,e,S,k,map,A,l,d,o,u,h,m,f,s,v,b,j,n,y,_,r,O)):(E=" classic_info ",x=new google.maps.Marker({position:C,map,icon:custompin(r),custompin:r,shape,title:c,zIndex:l,image:d,idul:o,price:u,category:h,action:m,link:f,city:p,area:g,infoWindowIndex:s,rooms:v,guest_no:b,cleanprice:j,size:n,category_name:y,action_name:_,status:w,custom_info:O})),gmarkers.push(x),typeof bounds_list!="undefined"&&bounds_list.extend(x.getPosition()),google.maps.event.addListener(x,"click",function(){if(wpestate_new_open_close_map(1),external_action_ondemand=1,this.image===""?r=mapfunctions_vars.path+"/idxdefault.jpg":r=this.image,typeof this.status!="undefined"?this.status.indexOf("%")!==-1?o=this.status:o=decodeURIComponent(this.status.replace(/-/g," ")):o="",m=decodeURIComponent(this.category.replace(/-/g," ")),c=decodeURIComponent(this.action.replace(/-/g," ")),d=decodeURIComponent(this.category_name.replace(/-/g," ")),l=decodeURIComponent(this.action_name.replace(/-/g," ")),u=wpestate_display_status(o),n=mapfunctions_vars.in_text,(m===""||c==="")&&(n=" "),n=" / ",this.guest_no!==""&&this.guest_no!=="0"&&this.guest_no!==0?a='<span id="infoguest">'+this.guest_no+"</span>":a="",this.rooms!==""?i='<span id="inforoom">'+this.rooms+"</span>":i="",h=this.title.toString(),this.custom_info!=="undefined"){var n,o,i,a,r,c,l,d,u,h,m,f,s=this.custom_info.split(",");i='<span id="inforoom" class="custom_infobox_icon"><i class="'+s[0]+'"></i>'+s[1]+"</span>",a='<span id="infoguest" class="custom_infobox_icon"><i class="'+s[2]+'"></i>'+s[3]+"</span>"}infoBox.setContent('<div class="info_details '+E+` "><span id="infocloser" onClick='javascript:infoBox.close();' ></span>`+u+'<a href="'+this.link+'"><div class="infogradient"></div><div class="infoimage" style="background-image:url('+r+')"  ></div></a><a href="'+this.link+'" id="infobox_title"> '+h+'</a><div class="prop_detailsx">'+d+" "+n+" "+l+'</div><div class="infodetails">'+a+i+'</div><div class="prop_pricex">'+this.price+"</div></div>"),mapfunctions_vars.hidden_map&&infoBox.open(map,this),map.setCenter(this.position),google.maps.event.addListenerOnce(map,"tilesloaded",function(){if(mapfunctions_vars.hidden_map)switch(t){case 700:document.getElementById("google_map_on_list")?mapfunctions_vars.hidden_map&&map.panBy(0,-160):mapfunctions_vars.listing_map==="top"?document.getElementById("google_map_prop_list")?map.panBy(0,-100):map.panBy(100,-100):map.panBy(10,-110),f=0;break;case 500:document.getElementById("google_map_prop_list")?map.panBy(50,-120):map.panBy(50,-150);break;case 400:document.getElementById("google_map_prop_list")?map.panBy(100,-220):map.panBy(0,-150);break;case 200:map.panBy(20,-170);break}}),control_vars.show_adv_search_map_close==="no"&&($(".search_wrapper").addClass("adv1_close"),adv_search_click()),wpestate_close_adv_search()}),mapfunctions_vars.generated_pins!=="0"&&(map_is_pan===0&&wpestate_pan_to_last_pin(C),map_is_pan=1)}function wprentals_createMarker_leaflet(e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O){"use strict";var x,C,E,k,A,S,M,F,T,z,D,N,P,H,I,B,V,$,W,R=document.createElement("div");R.className="leafinfobox-wrapper",M="",z=" classic_info ",mapfunctions_vars.useprice==="yes"&&(z=" openstreet_map_price_infobox "),typeof w!="undefined"?w.indexOf("%")!==-1||(w=decodeURIComponent(w.replace(/-/g," "))):w="",H=wpestate_display_status(w),T="",d===""?T=mapfunctions_vars.path+"/idxdefault.jpg":T=d,P=decodeURIComponent(h.replace(/-/g," ")),V=decodeURIComponent(m.replace(/-/g," ")),I=decodeURIComponent(y.replace(/-/g," ")),N=decodeURIComponent(_.replace(/-/g," ")),F=mapfunctions_vars.in_text,(P===""||V==="")&&(F=" "),F=" / ",b!==""?A='<span id="infoguest">'+b+"</span>":A="",v!==""?S='<span id="inforoom">'+v+"</span>":S="",c=c.toString(),O!=="undefined"&&(C=O.split(","),S='<span id="inforoom" class="custom_infobox_icon"><i class="'+C[0]+'"></i>'+C[1]+"</span>",A='<span id="infoguest" class="custom_infobox_icon"><i class="'+C[2]+'"></i>'+C[3]+"</span>"),M+='<div class="info_details '+z+` "><a id="infocloser" onClick='javascript:jQuery(".leaflet-popup-close-button")[0].click();' ></a>`+H+'<a href="'+f+'"><div class="infogradient"></div><div class="infoimage" style="background-image:url('+T+')"  ></div></a><a href="'+f+'" id="infobox_title"> '+c+'</a><div class="prop_detailsx">'+I+" "+F+" "+N+'</div><div class="infodetails">'+A+S+'</div><div class="prop_pricex">'+u+"</div></div>",D={riseOnHover:!0},k=L.latLng(i,a),x="",mapfunctions_vars.hidden_map?mapfunctions_vars.useprice==="yes"?(B="wpestate_marker openstreet_price_marker "+wpestate_makeSafeForCSS(y.trim())+" "+wpestate_makeSafeForCSS(_.trim()),E='<div class="'+B+'">',typeof u!="undefined"&&(mapfunctions_vars.use_price_pins_full_price==="no"?E+='<div class="interior_pin_price">'+e+"</div>":E+='<div class="interior_pin_price">'+u+"</div>"),E+="</div>",$=L.divIcon({className:"someclass",iconSize:new L.Point(0,0),html:E}),x=L.marker(k,{icon:$})):(W={iconUrl:wprentals_custompin_leaflet(r),iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]},D.icon=L.icon(W),x=L.marker(k,D)):x=L.circle(k,{color:"red",fillColor:"#b881fc",fillOpacity:.4,strokeWeight:.4,radius:120}),x.idul=o,x.pin=r,mapfunctions_vars.user_cluster==="yes"?markers_cluster.addLayer(x):x.addTo(map),gmarkers.push(x),typeof bounds_list!="undefined"?bounds_list.extend(x.getLatLng()):bounds_list=L.latLngBounds(x.getLatLng(),x.getLatLng()),R.innerHTML=M,x.bindPopup(M),mapfunctions_vars.generated_pins!=="0"&&(map_is_pan===0&&wpestate_pan_to_last_pin(k),map_is_pan=1)}function wprentals_custompinchild_leaflet(){"use strict";var t,n="",s=jQuery(window).dense("devicePixelRatio");return s>1&&(n="_2x"),images.userpin===""?t=mapfunctions_vars.path+"/userpin"+n+".png":(t=images.userpin,s>1&&(t=t.replace(".png","_2x.png"))),t}function wprentals_custompin_leaflet(e){"use strict";if(mapfunctions_vars.useprice==="yes")return mapfunctions_vars.path+"/pixel.png";var t="",s="",n=jQuery(window).dense("devicePixelRatio");return n>1&&(s="_2x"),mapfunctions_vars.use_single_image_pin==="no"?e!==""?images[e]===""?t=mapfunctions_vars.path+"/"+e+s+".png":(t=images[e],n>1&&(t=wpestate_get_custom_retina_pin(t))):t=images.single_pin:n>1?t=wpestate_get_custom_retina_pin(images.single_pin):t=images.single_pin,t}function wprentals_map_resize(){"use strict";wprentals_map_type===1?google.maps.event.trigger(map,"resize"):wprentals_map_type===2&&map.invalidateSize()}wprentals_autocomplete_mapbox();function wprentals_openstreet__code_address_map_call(e){var t="settlement";e==="property_address"&&(t=""),jQuery("#"+e).autocomplete({source:function(e,n){var s={format:"json",featuretype:t,q:e.term,addressdetails:"1"};control_vars.limit_country==="yes"&&control_vars.limit_country_select!=""&&(s.countrycodes=control_vars.limit_country_select),jQuery.get("https://nominatim.openstreetmap.org/search?accept-language=en",s,function(e){if(!e.length){n([{value:"",label:"there are no results"}]);return}n(e.map(function(e){var n,t={label:e.display_name,latitude:e.lat,longitude:e.lon,value:e.display_name};return typeof e.address!="undefined"&&(t.county=e.address.county),typeof e.address!="undefined"&&(n=e.address.city||e.address.town||e.address.village||e.address.municipality||e.address.county,!n&&typeof e.display_name!="undefined"&&(n=e.display_name.split(",")[0]),t.city=n),typeof e.address!="undefined"&&(t.state=e.address.state),typeof e.address!="undefined"&&(t.country=e.address.country),typeof e.address!="undefined"&&(t.zip=e.address.postcode),t}))},"json")},select:function(t,n){var s="";jQuery("#property_city").val(n.item.city),jQuery("#property_country").val(n.item.country),jQuery("#property_admin_area").val(n.item.label),e==="property_address"&&wprentals_submit_agolia_codeAddress(n.item.latitude,n.item.longitude),e==="geolocation_search"&&(jQuery("#geolocation_lat").val(n.item.latitude),jQuery("#geolocation_long").val(n.item.longitude),wpestate_start_filtering_ajax_map(1)),wprentals_fillInAddress_filter_leaflet(n.item,e),e==="search_locationhalf"&&wpestate_start_filtering_ajax_map(1)}})}function wprentals_autocomplete_mapbox(){"use strict";if(parseInt(mapbase_vars.wprentals_places_type)==1)return;if(document.getElementById("property_city_front"))if(parseInt(mapbase_vars.wprentals_places_type)==3)wprentals_openstreet__code_address_map_call("property_city_front");else if(parseInt(mapbase_vars.wprentals_places_type)==2){var t,n,s,o,i,a,e=places({appId:mapbase_vars.wp_estate_algolia_app_id,apiKey:mapbase_vars.wp_estate_algolia_api_key,type:"city",language:"en",templates:{value:function(e){return e.name}},container:document.querySelector("#property_city_front")});e.on("change",function(e){wprentals_agolia_fillInAddress_city(e)})}document.getElementById("property_address")&&(s=document.getElementById("property_address").value,o=jQuery("#property_city_submit").val(),t=s+","+o,n=document.getElementById("property_country").value,n&&(t=t+","+n),parseInt(mapbase_vars.wprentals_places_type)==3?wprentals_openstreet__code_address_map_call("property_address"):parseInt(mapbase_vars.wprentals_places_type)==2&&(e=places({appId:mapbase_vars.wp_estate_algolia_app_id,apiKey:mapbase_vars.wp_estate_algolia_api_key,type:"address",language:"en",templates:{value:function(e){return e.name}},container:document.querySelector("#property_address")}),e.on("change",function(e){wprentals_submit_agolia_codeAddress(e.suggestion.latlng.lat,e.suggestion.latlng.lng)}))),document.getElementById("geolocation_search")&&(parseInt(mapbase_vars.wprentals_places_type)==2?(e=places({appId:mapbase_vars.wp_estate_algolia_app_id,apiKey:mapbase_vars.wp_estate_algolia_api_key,language:"en",templates:{value:function(e){return e.name}},container:document.querySelector("#geolocation_search")}),initial_geolocation_circle_flag=0,e.on("change",function(e){initial_geolocation_circle_flag=0,jQuery("#geolocation_lat").val(e.suggestion.latlng.lat),jQuery("#geolocation_long").val(e.suggestion.latlng.lng),wpestate_start_filtering_ajax_map(1)})):parseInt(mapbase_vars.wprentals_places_type)==3&&(initial_geolocation_circle_flag=0,wprentals_openstreet__code_address_map_call("geolocation_search"))),i=["search_location","search_locationshortcode","search_locationmobile","search_locationsidebar","search_locationhalf"],i.forEach(function(e){if(document.getElementById(e)&&document.getElementById(e).getAttribute("type")=="text")if(parseInt(mapbase_vars.wprentals_places_type)==2){var t=places({appId:mapbase_vars.wp_estate_algolia_app_id,apiKey:mapbase_vars.wp_estate_algolia_api_key,type:"city",language:"en",templates:{value:function(e){return e.name}},container:document.querySelector("#"+e)});t.on("change",function(t){wprentals_fillInAddress_filter_leaflet(t,e)})}else parseInt(mapbase_vars.wprentals_places_type)==3&&wprentals_openstreet__code_address_map_call(e)})}function wprentals_fillInAddress_filter_leaflet(e,t){"use strict";var s,o,i,r,c,l,u,h,m,f,d=0,a="",n="";t=="search_locationshortcode"?n="shortcode":t=="search_locationmobile"?n="mobile":t=="search_locationsidebar"?n="sidebar":t=="search_locationhalf"&&(n="half"),typeof e.label!="undefined"&&(a=a+e.label),jQuery("#property_admin_area,#property_admin_areasidebar,#property_admin_areashortcode,#property_admin_areamobile").val(a),typeof e.country!="undefined"&&(s=e.country,jQuery("#advanced_country"+n).attr("data-value",s),jQuery("#advanced_country"+n).val(s),jQuery("#search_location_country"+n).val(s)),typeof e.city!="undefined"&&(o=e.city,jQuery("#advanced_city"+n).attr("data-value",o),jQuery("#advanced_city"+n).val(o),jQuery("#search_location_city"+n).val(o)),jQuery("#advanced_search_map_list").length>0&&jQuery("#geolocation_search").length>0&&(r=jQuery("#geolocation_lat").val(),i=jQuery("#geolocation_long").val(),r!==""&&i!==""&&(initial_geolocation_circle_flag=1,wpestate_geolocation_marker(r,i),googlecode_regular_vars.on_demand_pins==="no"&&(initial_geolocation_circle_flag=0))),c=parseFloat(jQuery("#isgooglemap").attr("data-isgooglemap"),10),c===1&&(l=jQuery(this).attr("data-value"))}function wprentals_fillInAddress_filter_leaflet_old(e,t){"use strict";var o,i,a,r,c,l,d,u,h=0,s="",n="";t=="search_locationshortcode"?n="shortcode":t=="search_locationmobile"?n="mobile":t=="search_locationsidebar"?n="sidebar":t=="search_locationhalf"&&(n="half"),typeof e.suggestion.administrative!="undefined"&&(s=s+e.suggestion.administrative),typeof e.suggestion.county!="undefined"&&(s=s+", "+e.suggestion.county),jQuery("#property_admin_area,#property_admin_areasidebar,#property_admin_areashortcode,#property_admin_areamobile").val(s),typeof e.suggestion.country!="undefined"&&(o=e.suggestion.country,jQuery("#advanced_country"+n).attr("data-value",o),jQuery("#advanced_country"+n).val(o),jQuery("#search_location_country"+n).val(o)),e.suggestion.type=="city"&&(a=e.suggestion.value,jQuery("#advanced_city"+n).attr("data-value",a),jQuery("#advanced_city"+n).val(a),jQuery("#search_location_city"+n).val(a)),e.suggestion.type=="address"&&(i=e.suggestion.address,jQuery("#advanced_area"+n).attr("data-value",i),jQuery("#advanced_area"+n).val(i),jQuery("#search_location_area"+n).val(i)),jQuery("#advanced_search_map_list").length>0&&wpestate_start_filtering_ajax_map(1),r=parseFloat(jQuery("#isgooglemap").attr("data-isgooglemap"),10),r===1&&(c=jQuery(this).attr("data-value"))}function wprentals_agolia_fillInAddress_city(e){"use strict";var t="",n="",s="";typeof e.suggestion.administrative!="undefined"&&(t=t+e.suggestion.administrative),typeof e.suggestion.county!="undefined"&&(t=t+", "+e.suggestion.county),typeof e.suggestion.country!="undefined"&&(s=e.suggestion.country),typeof e.suggestion.value!="undefined"&&(n=e.suggestion.value),jQuery("#property_city").val(n),jQuery("#property_country").val(s),jQuery("#property_admin_area").val(n+", "+t)}function wprentals_initialize_map_submit_leaflet(){"use strict";var n,s,o,e=jQuery("#property_latitude").val(),t=jQuery("#property_longitude").val();(e===""||e===0||e==="0")&&(e=google_map_submit_vars.general_latitude),(t===""||t===0||t==="0")&&(t=google_map_submit_vars.general_longitude),n=L.latLng(e,t),document.getElementById("googleMapsubmit")&&(map=L.map("googleMapsubmit",{center:n,zoom:17}).on("load",function(){}),s=wprentals_open_stret_tile_details(),map.addLayer(s),map.on("click",function(e){map.removeLayer(propertyMarker_submit);var t=L.latLng(e.latlng);propertyMarker_submit=L.marker(e.latlng).addTo(map),propertyMarker_submit.bindPopup('<div class="submit_leaflet_admin">Latitude: '+e.latlng.lat+" Longitude: "+e.latlng.lng+"</div>").openPopup(),document.getElementById("property_latitude").value=e.latlng.lat,document.getElementById("property_longitude").value=e.latlng.lng}),o=L.latLng(e,t),propertyMarker_submit=L.marker(o).addTo(map),propertyMarker_submit.bindPopup('<div class="submit_leaflet_admin">Latitude: '+e+" Longitude: "+t+"</div>").openPopup())}function wprentals_submit_agolia_codeAddress(e,t){"use strict";if(parseInt(mapbase_vars.wprentals_map_type)==1)wprentals_submit_set_postion(e,t);else if(parseInt(mapbase_vars.wprentals_map_type)==2){map.removeLayer(propertyMarker_submit);var n=L.latLng(e,t);propertyMarker_submit=L.marker(n).addTo(map),map.setView(n,15),propertyMarker_submit.bindPopup('<div class="submit_leaflet_admin">Latitude: '+e+" Longitude: "+t+"</div>").openPopup(),document.getElementById("property_latitude").value=e,document.getElementById("property_longitude").value=t}}function wprentals_submit_set_postion(e,t){"use strict";wpestate_removeMarkers();var n,o,s=new google.maps.LatLng(e,t);map.setCenter(s),n=new google.maps.Marker({map,position:s}),gmarkers.push(n),o=new google.maps.InfoWindow({content:"Latitude: "+e+"<br>Longitude: "+t}),o.open(map,n),document.getElementById("property_latitude").value=e,document.getElementById("property_longitude").value=t}function wpestate_display_status(e){var t,s,n="";if(e!=="normal"&&e!=="")for(s=e.split(","),t=0;t<s.length;t++)n=n+'<div class="property_status status_'+s[t]+'">'+s[t]+"</div>";return n='<div class="property_status_wrapper_infobox">'+n+"</div>"}